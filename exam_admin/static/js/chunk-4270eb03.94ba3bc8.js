(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4270eb03"],{"233b":function(e,t,o){"use strict";var a=o("462c"),s=o.n(a);s.a},3164:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.questionVo,rules:e.rules,"label-width":"80px"}},[o("el-card",[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("自定义试题内容")]),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{float:"right",padding:"3px 10px"},attrs:{type:"text",icon:"el-icon-refresh"},on:{click:e.saveQuestionVo}},[e._v("\n          保存试题\n        ")])],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"试题类型",prop:"questionTypeId"}},[o("el-select",{attrs:{placeholder:"请选择试题类型",clearable:"",filterable:""},model:{value:e.questionVo.questionTypeId,callback:function(t){e.$set(e.questionVo,"questionTypeId",t)},expression:"questionVo.questionTypeId"}},e._l(e.questionTypeList,(function(e){return o("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"试题标签",prop:"questionTagId"}},[o("el-select",{attrs:{placeholder:"请选择试题标签",clearable:"",filterable:""},model:{value:e.questionVo.questionTagId,callback:function(t){e.$set(e.questionVo,"questionTagId",t)},expression:"questionVo.questionTagId"}},e._l(e.questionTagList,(function(e){return o("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"题库归属",prop:"repositoryId"}},[o("el-select",{attrs:{placeholder:"请选择所属题库",clearable:"",filterable:""},model:{value:e.questionVo.repositoryId,callback:function(t){e.$set(e.questionVo,"repositoryId",t)},expression:"questionVo.repositoryId"}},e._l(e.$store.getters.repositoryList,(function(e){return o("el-option",{key:e.repositoryId,attrs:{label:e.repositoryName,value:e.repositoryId}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"试题备注"}},[o("el-input",{attrs:{placeholder:"请输入试题备注"},model:{value:e.questionVo.remark,callback:function(t){e.$set(e.questionVo,"remark",t)},expression:"questionVo.remark"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"试题内容",prop:"questionContent"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入试题内容"},model:{value:e.questionVo.questionContent,callback:function(t){e.$set(e.questionVo,"questionContent",t)},expression:"questionVo.questionContent"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"内容扩展"}},[o("el-button",[e._v("添加试题图片")]),e._v(" "),o("el-button",[e._v("添加试题视频")]),e._v(" "),o("el-button",[e._v("添加试题代码")])],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:null!==e.paperid,expression:"paperid !== null"}],attrs:{label:"试题排序"}},[o("el-input-number",{attrs:{min:0,max:9999,placeholder:"请输入试题排序"},model:{value:e.questionVo.questionSort,callback:function(t){e.$set(e.questionVo,"questionSort",t)},expression:"questionVo.questionSort"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:null!==e.paperid,expression:"paperid !== null"}],attrs:{label:"试题分值"}},[o("el-input",{attrs:{placeholder:"请输入试题分值"},model:{value:e.questionVo.questionScore,callback:function(t){e.$set(e.questionVo,"questionScore",t)},expression:"questionVo.questionScore"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"试题状态",prop:"isEnabled"}},[o("el-radio-group",{model:{value:e.questionVo.isEnabled,callback:function(t){e.$set(e.questionVo,"isEnabled",t)},expression:"questionVo.isEnabled"}},[o("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),o("el-radio",{attrs:{label:0}},[e._v("弃用")])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"试题分析"}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入试题分析"},model:{value:e.questionVo.anaylsis,callback:function(t){e.$set(e.questionVo,"anaylsis",t)},expression:"questionVo.anaylsis"}})],1)],1)],1)],1),e._v(" "),o("el-card",[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("答案列表")]),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{float:"right",padding:"3px 10px"},attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("\n          添加答案项\n        ")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionVo.answerList,border:!0}},[o("el-table-column",{attrs:{label:"是否答案",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,checked:1===t.row.isRight},model:{value:t.row.isRight,callback:function(o){e.$set(t.row,"isRight",o)},expression:"scope.row.isRight"}},[e._v("答案")])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"答案内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.row.answerContent,callback:function(o){e.$set(t.row,"answerContent",o)},expression:"scope.row.answerContent"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"答案解析"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.row.analysis,callback:function(o){e.$set(t.row,"analysis",o)},expression:"scope.row.analysis"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(o){return e.removeItem(t.$index)}}})]}}])})],1)],1),e._v(" "),o("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[o("el-col",{attrs:{span:12}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.saveQuestionVo}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.close}},[e._v("取消")])],1)],1)],1)],1)],1)},s=[],n=o("e4f0"),l=o("6066"),i={props:{paperid:{type:String,default:null}},data:function(){return{questionVo:{paperId:"",questionTypeId:"",questionTagId:"",answerList:[]},questionTypeList:[{dictLabel:"其它",dictValue:0},{dictLabel:"单选题",dictValue:1},{dictLabel:"多选题",dictValue:2},{dictLabel:"填空题",dictValue:3},{dictLabel:"判断题",dictValue:4},{dictLabel:"简答题",dictValue:5}],questionTagList:[{dictLabel:"其它",dictValue:0},{dictLabel:"基础题",dictValue:1},{dictLabel:"提升题",dictValue:2},{dictLabel:"开放题",dictValue:3},{dictLabel:"主观题",dictValue:4},{dictLabel:"客观题",dictValue:5}],repositoryList:this.$store.getters.repositoryList,rules:{questionTypeId:[{type:"date",required:!0,message:"试题类型不能为空",tirgger:"change"}],questionTagId:[{type:"date",required:!0,message:"试题标签不能为空",tirgger:"change"}],repositoryId:[{required:!0,message:"题库归属不能为空",tirgger:"change"}],questionContent:[{required:!0,message:"试题内容不能为空",tirgger:"blur"}],isEnabled:[{required:!0,message:"请选择试题状态",trigger:"change"}]},loading:!1}},methods:{close:function(){this.$emit("closeCustomAddDrawer"),this.resetForm("form"),this.questionVo.answerList=[]},handleAdd:function(){this.questionVo.answerList.push({isRight:0,answerContent:"",analysis:""})},removeItem:function(e){this.questionVo.answerList.splice(e,1)},saveQuestionVo:function(){var e=this;this.loading=!0,console.log(this.paperid),null===this.paperid||""===this.paperid?n["a"].save(this.questionVo).then((function(t){e.loading=!1,e.$message.success(t.msg),e.$emit("closeCustomAddDrawer"),e.$emit("getByPage"),e.resetForm("form"),e.questionVo.answerList=[]})):(this.questionVo.paperId=this.paperid,l["a"].saveQuestionVoForPaper(this.questionVo).then((function(t){e.loading=!1,e.$message.success(t.msg),e.$emit("closeCustomAddDrawer"),e.$emit("getQuestionVoListByPaperId"),e.resetForm("form"),e.questionVo.answerList=[]})))}}},r=i,u=(o("a05d"),o("2877")),c=Object(u["a"])(r,a,s,!1,null,"5b0d622d",null);t["a"]=c.exports},"462c":function(e,t,o){},"4ef9":function(e,t,o){},6066:function(e,t,o){"use strict";var a=o("b775"),s="paper";t["a"]={save:function(e){return Object(a["a"])({url:"/".concat(s,"/save"),method:"post",data:e})},saveQuestionVoForPaper:function(e){return Object(a["a"])({url:"/".concat(s,"/saveQuestionVoForPaper"),method:"post",data:e})},updateQuestionVoForPaper:function(e){return Object(a["a"])({url:"/".concat(s,"/updateQuestionVoForPaper"),method:"put",data:e})},saveSelectQuestionVoForPaper:function(e){return Object(a["a"])({url:"/".concat(s,"/saveSelectQuestionVoForPaper"),method:"post",data:e})},delete:function(e){return Object(a["a"])({url:"/".concat(s,"/deleteByIds"),method:"delete",data:e})},deleteQuestionForPaperById:function(e,t){return Object(a["a"])({url:"/".concat(s,"/deleteQuestionForPaperById/")+e+"/"+t,method:"delete"})},update:function(e){return Object(a["a"])({url:"/".concat(s,"/update"),method:"put",data:e})},get:function(e){return Object(a["a"])({url:"/".concat(s,"/getById/").concat(e),method:"get",data:e})},getQuestionVoForPaperByQuestionIdAndPaperId:function(e,t){return Object(a["a"])({url:"/".concat(s,"/getQuestionVoForPaperByQuestionIdAndPaperId/")+e+"/"+t,method:"get"})},getPaperVoWithPaperRuleVoWithQuestionVosById:function(e){return Object(a["a"])({url:"/".concat(s,"/getPaperVoWithPaperRuleVoWithQuestionVosById/").concat(e),method:"get",data:e})},getByPage:function(e){return Object(a["a"])({url:"/".concat(s,"/getByPage"),method:"post",data:e})},enable:function(e){return Object(a["a"])({url:"/".concat(s,"/enable/").concat(e),method:"put",data:e})},disable:function(e){return Object(a["a"])({url:"/".concat(s,"/disable/").concat(e),method:"put",data:e})},getPaperWithRuleByPaperId:function(e){return Object(a["a"])({url:"/".concat(s,"/getPaperWithRuleByPaperId/").concat(e),method:"get",data:e})}}},a05d:function(e,t,o){"use strict";var a=o("4ef9"),s=o.n(a);s.a},d21c:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.questionVo,rules:e.rules,"label-width":"80px"}},[o("el-card",[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("更新试卷试题内容")]),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{float:"right",padding:"3px 10px"},attrs:{type:"text",icon:"el-icon-refresh"},on:{click:e.saveQuestionVo}},[e._v("\n          保存试题\n        ")])],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"试题类型",prop:"questionTypeId"}},[o("el-select",{attrs:{placeholder:"请选择试题类型",clearable:"",filterable:""},model:{value:e.questionVo.questionTypeId,callback:function(t){e.$set(e.questionVo,"questionTypeId",t)},expression:"questionVo.questionTypeId"}},e._l(e.questionTypeList,(function(e){return o("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"试题标签",prop:"questionTagId"}},[o("el-select",{attrs:{placeholder:"请选择试题标签",clearable:"",filterable:""},model:{value:e.questionVo.questionTagId,callback:function(t){e.$set(e.questionVo,"questionTagId",t)},expression:"questionVo.questionTagId"}},e._l(e.questionTagList,(function(e){return o("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"题库归属",prop:"repositoryId"}},[o("el-select",{attrs:{placeholder:"请选择所属题库",clearable:"",filterable:""},model:{value:e.questionVo.repositoryId,callback:function(t){e.$set(e.questionVo,"repositoryId",t)},expression:"questionVo.repositoryId"}},e._l(e.$store.getters.repositoryList,(function(e){return o("el-option",{key:e.repositoryId,attrs:{label:e.repositoryName,value:e.repositoryId}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"试题备注"}},[o("el-input",{attrs:{placeholder:"请输入题库备注"},model:{value:e.questionVo.remark,callback:function(t){e.$set(e.questionVo,"remark",t)},expression:"questionVo.remark"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"试题内容",prop:"questionContent"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入题库内容"},model:{value:e.questionVo.questionContent,callback:function(t){e.$set(e.questionVo,"questionContent",t)},expression:"questionVo.questionContent"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"内容扩展"}},[o("el-button",[e._v("添加试题图片")]),e._v(" "),o("el-button",[e._v("添加试题视频")]),e._v(" "),o("el-button",[e._v("添加试题代码")])],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:null!==e.paperid,expression:"paperid !== null"}],attrs:{label:"试题排序"}},[o("el-input-number",{attrs:{min:0,max:9999,placeholder:"请输入试题排序"},model:{value:e.questionVo.questionSort,callback:function(t){e.$set(e.questionVo,"questionSort",t)},expression:"questionVo.questionSort"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:null!==e.paperid,expression:"paperid !== null"}],attrs:{label:"试题分值"}},[o("el-input",{attrs:{placeholder:"请输入试题分值"},model:{value:e.questionVo.questionScore,callback:function(t){e.$set(e.questionVo,"questionScore",t)},expression:"questionVo.questionScore"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"试题状态",prop:"isEnabled"}},[o("el-radio-group",{model:{value:e.questionVo.isEnabled,callback:function(t){e.$set(e.questionVo,"isEnabled",t)},expression:"questionVo.isEnabled"}},[o("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),o("el-radio",{attrs:{label:0}},[e._v("弃用")])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"试题分析"}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入试题分析"},model:{value:e.questionVo.anaylsis,callback:function(t){e.$set(e.questionVo,"anaylsis",t)},expression:"questionVo.anaylsis"}})],1)],1)],1)],1),e._v(" "),o("el-card",[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("答案列表")]),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{float:"right",padding:"3px 10px"},attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("\n          添加答案项\n        ")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionVo.answerList,border:!0}},[o("el-table-column",{attrs:{label:"是否答案",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,checked:1===t.row.isRight},model:{value:t.row.isRight,callback:function(o){e.$set(t.row,"isRight",o)},expression:"scope.row.isRight"}},[e._v("答案")])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"答案内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.row.answerContent,callback:function(o){e.$set(t.row,"answerContent",o)},expression:"scope.row.answerContent"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"答案解析"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.row.analysis,callback:function(o){e.$set(t.row,"analysis",o)},expression:"scope.row.analysis"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(o){return e.removeItem(t.$index)}}})]}}])})],1)],1),e._v(" "),o("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[o("el-col",{attrs:{span:12}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.saveQuestionVo}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.close}},[e._v("取消")])],1)],1)],1)],1)],1)},s=[],n=o("e4f0"),l=o("6066"),i={props:{question:{type:Object,default:null},paperid:{type:String,default:null}},data:function(){return{questionVo:this.question,repositoryList:this.$store.getters.repositoryList,questionTypeList:[{dictLabel:"其它",dictValue:0},{dictLabel:"单选题",dictValue:1},{dictLabel:"多选题",dictValue:2},{dictLabel:"填空题",dictValue:3},{dictLabel:"判断题",dictValue:4},{dictLabel:"简答题",dictValue:5}],questionTagList:[{dictLabel:"其它",dictValue:0},{dictLabel:"基础题",dictValue:1},{dictLabel:"提升题",dictValue:2},{dictLabel:"开放题",dictValue:3},{dictLabel:"主观题",dictValue:4},{dictLabel:"客观题",dictValue:5}],rules:{questionTypeId:[{type:"date",required:!0,message:"试题类型不能为空",tirgger:"blur"}],questionTagId:[{type:"date",required:!0,message:"试题标签不能为空",tirgger:"blur"}],repositoryId:[{required:!0,message:"题库归属不能为空",tirgger:"blur"}],questionContent:[{required:!0,message:"试题内容不能为空",tirgger:"blur"}],isEnabled:[{required:!0,message:"请选择试题状态",trigger:"change"}]},loading:!1}},watch:{question:function(){this.questionVo=this.question}},methods:{saveQuestionVo:function(){var e=this;this.loading=!0,console.log(this.paperid),null===this.paperid||""===this.paperid?n["a"].update(this.questionVo).then((function(t){console.log("修改了试题!"),e.$message.success(t.msg),e.$emit("closeUpdateDrawer"),e.$emit("getByPage"),e.resetForm("form")})):(this.questionVo.paperId=this.paperid,console.log("修改了试卷中的试题!"),l["a"].updateQuestionVoForPaper(this.questionVo).then((function(t){e.$message.success(t.msg),e.$emit("closeUpdateDrawer"),e.$emit("getQuestionVoListByPaperId"),e.resetForm("form"),e.questionVo.answerList=[]})))},handleAdd:function(){this.questionVo.answerList.push({isRight:0,answerContent:"",analysis:""})},removeItem:function(e){this.questionVo.answerList.splice(e,1)},close:function(){this.$emit("closeUpdateDrawer"),this.resetForm("form")}}},r=i,u=(o("233b"),o("2877")),c=Object(u["a"])(r,a,s,!1,null,"319a0fc4",null);t["a"]=c.exports},e4f0:function(e,t,o){"use strict";var a=o("b775"),s="question";t["a"]={save:function(e){return Object(a["a"])({url:"/".concat(s,"/save"),method:"post",data:e})},delete:function(e){return Object(a["a"])({url:"/".concat(s,"/deleteByIds"),method:"delete",data:e})},update:function(e){return Object(a["a"])({url:"/".concat(s,"/update"),method:"put",data:e})},get:function(e){return Object(a["a"])({url:"/".concat(s,"/getById/").concat(e),method:"get",data:e})},getQuestionVoWithAnswers:function(e){return Object(a["a"])({url:"/".concat(s,"/getQuestionVoWithAnswers/").concat(e),method:"get",data:e})},getByPage:function(e){return Object(a["a"])({url:"/".concat(s,"/getByPage"),method:"post",data:e})},enable:function(e){return Object(a["a"])({url:"/".concat(s,"/enable/").concat(e),method:"put",data:e})},disable:function(e){return Object(a["a"])({url:"/".concat(s,"/disable/").concat(e),method:"put",data:e})},getQuestionVoListByPaperIdForPaperInfo:function(e){return Object(a["a"])({url:"/".concat(s,"/getQuestionVoListByPaperIdForPaperInfo/").concat(e),method:"get",data:e})},getQuestionVoListByPageForFront:function(e){return Object(a["a"])({url:"/".concat(s,"/getQuestionVoListByPageForFront"),method:"post",data:e})},getQuestionListByPage:function(e){return Object(a["a"])({url:"/".concat(s,"/getQuestionListByPage"),method:"post",data:e})}}}}]);